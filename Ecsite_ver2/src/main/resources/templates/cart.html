<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<head>
<mata charset="utf-8">
<title>Handmade Nariko</title>
<link rel="stylesheet" href="css/mystyle.css">
<link rel="stylesheet" href="js/slick-theme.css" type="text/css">
<link rel="stylesheet" href="js/slick.css" type="text/css">
<link rel="stylesheet"
	href="https://use.fontawesome.com/releases/v5.8.2/css/all.css"
	integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay"
	crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script> <script
	src="js/slick.min.js"></script> <script src="myjs.js"></script>
</head>
<body>
	<header>
		<div class="shop_name">
			<p>手作りちりめん細工の通販サイト</p>
			<h1>ハンドメイドのNariko</h1>
		</div>
		<nav>
			<ul class="menu">
				<li><a href="/index"><i class="fas fa-home"></i>Home</a></li>
				<li><a href="/mypage"> <i class="fas fa-user-circle"></i>Mypage
				</a></li>
				<li><a href="/cart"><i class="fas fa-shopping-cart"></i>Cart</a></li>
				<!-- ユーザーがログインしていればユーザー名を表示 -->
				<!-- if文の意味は、ユーザーデーターがnullならばLogin表示するという意味 -->
				<li th:if="${user eq null}"><a href="/login"><i
						class='fas fa-door-closed'></i>Login</a></li>
				<li th:if="${user eq null}" th:text="ユーザー：ゲスト"></li>
				<!-- if文の意味は、ユーザーデーターがnullでなければLogout表示するという意味 -->
				<li th:if="${user ne null}"><a href="/logout"><i
						class='fas fa-door-closed'></i>Logout</a></li>
				<li th:if="${user ne null}" th:text="ユーザー：+${user}"></li>
			</ul>
		</nav>
	</header>
	<article>
		<div class="main">
			<section class="sec_goods">
				<h2 class="goods">Cart</h2>
				<p th:if="${user eq null}" th:text="お客様のショッピングカートには商品がありません"></p>
				<table>
					<tr>
					<!-- <th>日付</th> -->
						<th>品名</th>
						<th>単価</th>
						<th>個数</th>
						<th>金額</th>
					</tr>
					<tr>
						<!-- ログインしていなければ表示 -->
						<td th:if="${user eq null}" th:text="${message}"></td>
					</tr>
					<tr><td th:text="${empty}"></td></tr>
					<tr th:each="c:${cartlist}">
						<!-- ログインしていれば、カートに表示 -->
				<!--	<td th:text="${c.CART_DATE}"></td>  -->
						<td th:text="${c.GOODS_NAME}"></td>
						<td th:text="${c.GOODS_PRICE}+円"></td>
						<td th:text="${c.COUNT}"></td>
				<!--	<td>
								<form method="POST" action="/cartcount">
								<input type="hidden" name="goodsid" th:value="${c.GOODS_ID}">
								<input type="hidden" name="count" th:value="${count}">
								 <select name="count" >
									<option value=1>1</option>
									<option value=2>2</option>
									<option value=3>3</option>
									<option value=4>4</option>
									<option value=5>5</option>
								</select>
				 			</form>
						</td>
					  -->
						<td th:text="${c.GOODS_PRICE}*${c.COUNT}+円"></td>
						<td>
							<form method="POST" action="/cart2">
								<input type="hidden" name="goodsid" th:value="${c.GOODS_ID}">
								<input type="submit" value="削除">
						 	</form>
						</td>

					</tr>
				</table>

					<!-- 購入ボタンを押すと画面移動 -->
					<form method="POST" action="/buy">
						<div th:each="c:${cartlist}">
							<input type="hidden" name="goodsid" th:value="${c.GOODS_ID}">
							<input type="hidden" name="count" th:value="${c.count}">
						</div>
						<input type="submit" value="購入する">
					</form>
				<a href="/goods?category=1"><input type="submit" value="買い物を続ける"></a>
			</section>
		</div>

	</article>
	<footer>
		<small>Copyright 2019 Nariko</small>
	</footer>
	<script>
		$(function() {
			$('.myslider').slick({
				autoplay : true,
				dots : true,
				infinite : true,
				autoplaySpeed : 5000,
				speed : 1000,
				fade : true,

			});
		});
	</script>
</body>
</html>
